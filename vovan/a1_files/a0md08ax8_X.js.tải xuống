if (self.CavalryLogger) { CavalryLogger.start_js(["HfEa\/"]); }

__d("MReactTypeaheadView",["React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){var a=this.props.Renderer;return g.jsx(a,{data:this.props.data,query:this.props.query,waiting:this.props.waiting,loaderMarkup:this.props.loaderMarkup,onTouchStart:this.props.onTouchStart,onClickItem:this.props.onClickItem,simpleSearch:this.props.simpleSearch,excludedEntries:this.props.excludedEntries,maxSuggestionCount:this.props.maxSuggestionCount,closeOnTag:this.props.closeOnTag})};return b}(g.Component);e.exports=a}),null);
__d("MTokenCollection.react",["React","prop-types"],(function(a,b,c,d,e,f){var g=b("React");a=function(a){"use strict";babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){var a=this.props.renderer,b=this.props.collection.entries.map(function(b,c){var d=null;return g.jsx(a,{collectionKey:this.props.collectionKey,entry:b,index:c,label:b.display,onRemove:this.props.onRemove,testid:void 0,truncate:this.props.truncateTokens},b.id)},this);return g.jsx("span",{className:this.props.className,onClick:this.props.onClick,role:"presentation",children:b})};return b}(g.Component);a.propTypes={className:(c=b("prop-types")).string,collection:c.object.isRequired,collectionKey:c.string,onClick:c.func,onRemove:c.func,renderer:c.func.isRequired,tokenTestIDGenerator:c.func,truncateTokens:c.bool};e.exports=a}),null);
__d("MTokenRenderer.react",["cx","fbt","React","joinClasses","prop-types"],(function(a,b,c,d,e,f,g,h){var i=b("React");a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(a){a.stopPropagation(),a.preventDefault(),c.props.onRemove&&c.props.onRemove(c.props.entry)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){if(this.props.onRemove)var a="_5snx"+(this.props.truncate?" _p9m":""),c=i.jsx("button",{"aria-label":h._("G\u1ee1"),className:a,"data-sigil":"touchable",onClick:this.$1,children:i.jsx("span",{className:"_1xe9",children:"\xa0\xd7\xa0"})});a="_7mko"+(this.props.truncate?" _p9n":"");a=i.jsx("span",{className:a,children:this.props.label});var d="_7mkp"+(this.props.truncate?" _p9o":""),e=i.jsx("input",{type:"hidden",value:this.props.entry.id,name:(this.props.entry.receivedInBackground?"unconfirmed_":"")+this.props.collectionKey+"["+this.props.index+"]"});return i.jsxs("span",babelHelpers["extends"]({},this.props,{className:b("joinClasses")(this.props.className,d),children:[a,c,e]}))};return c}(i.Component);a.propTypes={collectionKey:(c=b("prop-types")).string,entry:c.object,index:c.number,label:c.string.isRequired,onRemove:c.func,testid:c.string,truncate:c.bool};e.exports=a}),null);
__d("MReactTypeahead",["csx","cx","DOM","EventEmitter","MPageController","MReactTypeaheadView","MRecentSearchesUpdater","MSearchConst","MSearchTypeaheadLogger","MSearchTypeaheadPerfLoggerUtil","MTypeaheadNullstateSource","MTypeaheadOnDemandSource","MTypeaheadTouchSource","MTypeaheadTouchSourceWithSuggestions","Parent","React","ReactDOM","Stratcom","SubscriptionsHandler","TypeaheadCompositeSource","URI","Vector","prop-types"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=b("React"),k=10;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={resultData:[],query:null,waiting:!1},d.$1=null,d.$3=null,d.listen=function(a,c){d.$3=d.$3||new(b("EventEmitter"))();return d.$3.addListener(a,c.bind(babelHelpers.assertThisInitialized(d)))},d.$5=function(a,b){d.$3&&d.$3.emit.apply(d.$3,[a].concat(b))},d.waitForResults=function(){d.setState({waiting:!0})},d.showResults=function(a){d.props.setNullstateData!=null&&b("ReactDOM").findDOMNode(d.refs.input).value===""&&(a=d.props.setNullstateData),d.props.hideSelected&&(a=d.$6(a)),a.forEach(function(a){a.uri=new(i||(i=b("URI")))(a.uri).addQueryData("refid",b("MSearchConst").refid);return a}),d.setState({resultData:a,waiting:!0},d.$7),d.$5("show",[a])},d.$6=function(a){var b=d.props.excludedEntries;return b?a.filter(function(a){return!b[a.id]}):a},d.$7=function(){d.state.query==null&&d.setState({waiting:!1})},d.complete=function(){d.setState({waiting:!1})},d.reset=function(){b("ReactDOM").findDOMNode(d.refs.input).value="",d.query("",!0)},d.query=function(a,b){b=b||!1,(b||d.state.query!==a)&&(d.$5("update",[a]),d.$5("change",[a]),d.setState({query:a}))},d.inputChanged=function(){b("ReactDOM").findDOMNode(d.refs.input).value===""&&d.query("")},d.onSearchFormSubmit=function(a){a.preventDefault();a=b("ReactDOM").findDOMNode(d.refs.input);a=a.value;d.$5("query",[d.state.resultData]);a=new(i||(i=b("URI")))("/search/?query").addQueryData("query",a).toString();b("MPageController").load(a)},d.setInputValue=function(a){a&&(b("ReactDOM").findDOMNode(d.refs.input).value=a)},d.onKeyUp=function(a){var b=d.getInputValue();d.query(b);d.props.onKeyUp&&d.props.onKeyUp(a)},d.onInput=function(a){d.onKeyUp(a)},d.onClearButtonEvent=function(a){a.preventDefault(),d.reset(),d.focusInput()},d.getInputValue=function(){return b("ReactDOM").findDOMNode(d.refs.input).value},d.getInputNode=function(){return b("ReactDOM").findDOMNode(d.refs.input)},d.getValue=function(){return d.getInputValue()},d.focusInput=function(){b("ReactDOM").findDOMNode(d.refs.input).focus()},d.blurInput=function(){b("ReactDOM").findDOMNode(d.refs.input).blur()},d.$9=function(a,c,e){d.reset(),d.props.onClickItem&&d.props.onClickItem(a,c,e),d.props.showSelectedInput&&c.name&&d.setInputValue(c.name),d.$5("select",[b("Parent").bySelector(a.target,"._5fna")]),d.$5("result-selected",[c]),d.forceUpdate()},d.getDisplayedHeight=function(){var a=b("ReactDOM").findDOMNode(d.refs.results),c=b("Vector").getPos(a).y;return b("Vector").getDim(a).y+c},d.getDatasource=function(){return d.$1},d.$10=function(a){d.$1&&d.$1.unbindFromTypeahead(babelHelpers.assertThisInitialized(d));d.$2&&(d.$2.release(),delete d.$2);d.$1=a;if(!d.$1)return;d.$2=new(b("SubscriptionsHandler"))();d.$2.addSubscriptions(a.listen("waiting",d.waitForResults),a.listen("resultsready",d.showResults),a.listen("complete",d.complete));a.bindToTypeahead(babelHelpers.assertThisInitialized(d))},d.configureDatasource=function(a){if(d.$1)return;var c=d.props.typeaheadConfig.sources,e=[],f=new(i||(i=b("URI")))(c.bootstrapped.src);if(d.props.includeFamilyTags){var g=f.getQueryData();g.filter.push("family_tags");f.setQueryData(g)}g=d.getTypeaheadTouchSource(f.toString(),c.bootstrapped.source_key,d.props.suggestions);g.setShowSecondaryAction(!0);g.clientRendered=!0;d.touchSource=g;e.push(g);c.nullstate&&(d.nullstateDataSource=d.getTypeaheadNullstateSource(c.nullstate.src),d.nullstateDataSource.setMaximumResultCount(c.nullstate.max_results),d.nullstateDataSource.setShowSecondaryAction(!0),d.nullstateDataSource.clientRendered=!0,e.push(d.nullstateDataSource));g=d.getTypeaheadOnDemandSource(c.online.src);g.setMaximumResultCount(c.online.max_results);g.setEnableImmediateReturnOfCachedResults(c.online.enable_caching);a&&(a.enableQueryThrottle&&g.setThrottleSendRequest(a.queryThrottleTime),g.setMaxResults(a.maxResults),g.setEnableEagerSendRequest(a.enableEagerSendRequest),g.setQueryDelay(a.queryWaitTime));g.setShowSecondaryAction(!0);g.clientRendered=!0;e.push(g);if(d.props.setAllSourceMaxCount)for(var f=0;f<e.length;f++){c=e[f];c.setMaximumResultCount(d.props.maxSuggestionCount)}var h=d.getTypeaheadCompositeSource(e);d.props.typeaheadConfig.excludeids&&d.props.typeaheadConfig.excludeids.forEach(function(a){h.addExcludeID(a)});h.clientRendered=!0;h.mergeKey="id";d.$10(h);d.$5("start")},d.configureMSideNavMarauderLogger=function(){if(!d.props.typeaheadConfig.mSideNavMarauderLogger||d.$12)return;d.props.typeaheadConfig.mSideNavMarauderLogger.setupTypeaheadListener(babelHelpers.assertThisInitialized(d));d.$12=!0},d.configureMRecentSearchesUpdater=function(){if(d.props.typeaheadConfig.hasRecentSearches){var a=new(b("MRecentSearchesUpdater"))(babelHelpers.assertThisInitialized(d));d.$11().addSubscriptions({remove:a.destroy})}},d.configureMSearchTypeaheadLogger=function(){if(d.$13)return;d.$11().addSubscriptions(b("Stratcom").listen("m-typeahead-logger:new-session-id",null,d.addSessionIDToSearch));var a="/search/metrics.php",c=new(b("MSearchTypeaheadLogger"))(babelHelpers.assertThisInitialized(d),a);d.$13=!0;d.$11().addSubscriptions(b("Stratcom").listen("log-m-search-session-end",null,function(a){c.blur(a.getData().reason)}))},d.configureMSearchTypeaheadPerfLogger=function(){if(!d.props.typeaheadConfig.typeaheadScubaInfo||d.$14)return;var a=b("MSearchTypeaheadPerfLoggerUtil").getNewMSearchTypeaheadPerfLogger(babelHelpers.assertThisInitialized(d),d.props.typeaheadConfig.typeaheadScubaInfo,d.props.typeaheadConfig.sources.online.enable_caching);d.$11().addSubscriptions({remove:a.destroy});d.$14=!0},d.addSessionIDToSearch=function(a){if(!d.refs||!d.refs.searchForm)return;var c=b("ReactDOM").findDOMNode(d.refs.searchForm),e=b("DOM").scry(c,"input","search-typeahead-session-id")[0];e||(e=document.createElement("input"),e.type="hidden",e.name="tsid",c.appendChild(e),b("Stratcom").addSigil(e,"search-typeahead-session-id"));e.value=a.getData().sessionID},d.getTypeaheadCompositeSource=function(a){return d.props.getTypeaheadCompositeSource?d.props.getTypeaheadCompositeSource(a):new(b("TypeaheadCompositeSource"))(a)},d.getTypeaheadOnDemandSource=function(a){return d.props.getTypeaheadOnDemandSource?d.props.getTypeaheadOnDemandSource(a):new(b("MTypeaheadOnDemandSource"))(a)},d.getTypeaheadTouchSource=function(a,c,e){if(d.props.getTypeaheadTouchSource)return d.props.getTypeaheadTouchSource(a,c);if(e){e=new(b("MTypeaheadTouchSourceWithSuggestions"))(a,c,e);d.props.maxSuggestionCount?e.setMaximumResultCount(d.props.maxSuggestionCount):e.setMaximumResultCount(k);return e}return new(b("MTypeaheadTouchSource"))(a,c)},d.getTypeaheadNullstateSource=function(a){return d.props.getTypeaheadNullstateSource?d.props.getTypeaheadNullstateSource(a):new(b("MTypeaheadNullstateSource"))(a)},d.getTypeaheadType=function(){var a="m_side_nav";d.props.simpleSearch?a+="_simple":a+="_gsv2";return a},d.updateSuggestionsIds=function(a){d.touchSource&&d.touchSource.setSuggestionsIds(a),b("ReactDOM").findDOMNode(d.refs.input).value===""&&d.reset()},d.$8=function(){d.props.onFocus&&d.props.onFocus(),d.query(d.getInputValue())},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.shouldComponentUpdate=function(a,b){if(this.state.resultData!==b.resultData||this.state.waiting!==b.waiting)return!0;b=a.excludedEntries;var c=this.props.excludedEntries;for(var d in b)if(b[d]!==c[d])return!0;for(var e in c)if(c[e]!==b[e])return!0;return this.props.configureDataSourceOnNewProps&&this.props.maxSuggestionCount!==a.maxSuggestionCount?!0:!1};d.componentDidMount=function(){this.refs.input.type="search",this.props.configureDataSourceOnNewProps&&this.configureDatasource(),this.props.focusOnMount&&this.focusInput(),this.props.initialInputValue&&this.setInputValue(this.props.initialInputValue)};d.UNSAFE_componentWillUpdate=function(){this.$5("render_start")};d.componentDidUpdate=function(a,b){this.props.onUpdate&&this.props.onUpdate(),this.props.configureDataSourceOnNewProps&&this.props.maxSuggestionCount!==a.maxSuggestionCount&&(this.setDatasource(null),this.configureDatasource(),this.query(this.state.query,!0)),this.$5("rendered")};d.render=function(){var a=this.props.showClearButton&&this.state.query,c=this.props.typeaheadRootClassName||"_5fn4",d=j.jsx("input",{type:"search",ref:"input",className:"input",autoCorrect:"off",autoComplete:"off",autoCapitalize:"off",name:"query",placeholder:this.props.placeholder,onBlur:this.props.onBlur,onKeyUp:this.onKeyUp,onKeyDown:this.props.onKeyDown,onFocus:this.$8,onChange:this.inputChanged,onInput:this.onInput});this.props.typeaheadConfig.submitOnEnter&&(d=j.jsxs("form",{ref:"searchForm",action:"/search",className:"_4e7a",onSubmit:this.onSearchFormSubmit,children:[d,j.jsx("input",{type:"hidden",name:"source",value:"typeahead"})]}));var e="_5fn6 touchable";this.props.useStandardClearButton&&(e="_5fn6 touchable mClearButton");var f=this.props.hideSelected?this.$6(this.state.resultData):this.state.resultData;return j.jsxs("div",{className:this.props.className,children:[j.jsx("div",{className:c,children:j.jsxs("div",{className:"_5fn5",children:[d,j.jsx("div",{className:e,"data-sigil":"touchable",style:{display:a?"":"none"},onMouseDown:this.onClearButtonEvent,onTouchStart:this.onClearButtonEvent,children:j.jsx("div",{children:"\xd7"})})]})}),j.jsx(b("MReactTypeaheadView"),{ref:"results",Renderer:this.props.presenter.ViewRenderer,data:f,excludedEntries:this.props.excludedEntries,query:this.state.query,waiting:this.state.waiting,loaderMarkup:this.props.typeaheadConfig.loaderMarkup,onTouchStart:this.props.onTouchStart,simpleSearch:this.props.simpleSearch,onClickItem:this.$9,maxSuggestionCount:this.props.maxSuggestionCount,closeOnTag:this.props.closeOnTag})]})};d.$11=function(){this.$4||(this.$4=new(b("SubscriptionsHandler"))());return this.$4};d.cleanup=function(){this.$10(null),this.$4&&this.$4.release()};d.componentWillUnmount=function(){this.cleanup()};return c}(j.Component);a.propTypes={onClickItem:(c=b("prop-types")).func,onBlur:c.func,onKeyUp:c.func,onKeyDown:c.func,onTouchStart:c.func,placeholder:c.string,presenter:c.object.isRequired,showClearButton:c.bool,typeaheadConfig:c.object.isRequired,excludedEntries:c.object,getTypeaheadOnDemandSource:c.func,getTypeaheadTouchSource:c.func,getTypeaheadCompositeSource:c.func,getTypeaheadNullstateSource:c.func,onFocus:c.func,simpleSearch:c.bool,suggestions:c.array,hideSelected:c.bool,maxSuggestionCount:c.number,configureDataSourceOnNewProps:c.bool,setAllSourceMaxCount:c.bool,setNullstateData:c.array,focusOnMount:c.bool,initialInputValue:c.string,showSelectedInput:c.bool,closeOnTag:c.bool};e.exports=a}),null);
__d("MTaggerResultsRow.react",["cx","MXUIDiv.react","MXUILayout.react","MXUILayoutColumn.react","MXUILayoutFillColumn.react","React","Stratcom","prop-types"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={checked:!1},d.$1=function(){return h.jsx("div",{className:"_5rmb",style:{backgroundImage:"url("+d.props.data.photo+")"}})},d.$2=function(){var a=d.props.data;a=a.subtext;return!a?null:h.jsx("span",{className:"_5rmc",children:a})},d.$3=function(a){d.props.closeOnTag?b("Stratcom").invoke("close-on-tag",null,d.props.data.id):(d.setState({checked:!d.state.checked}),d.props.onClickItem&&d.props.onClickItem(a,d.props.data,d.props.checked))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this.props.data,c=this.props.checked?"_5tbv":"";return h.jsx(b("MXUIDiv.react"),{"aria-checked":this.state.checked,className:"_5rmd",onClick:this.$3,role:"checkbox",children:h.jsxs(b("MXUILayout.react"),{children:[h.jsx(b("MXUILayoutColumn.react"),{children:this.$1()},"profile_image"),h.jsx(b("MXUILayoutFillColumn.react"),{alignself:"center",className:"_5rme",children:h.jsxs("div",{children:[h.jsx("div",{className:"_5rmf",children:a.display||a.name}),this.$2()]})},"display_name"),h.jsx(b("MXUILayoutColumn.react"),{children:h.jsx("div",{className:"_5tbx",children:h.jsx("div",{className:c})})},"check_mark")]})})};return c}(h.Component);a.propTypes={data:b("prop-types").object,onClickItem:b("prop-types").func,closeOnTag:b("prop-types").bool};e.exports=a}),null);
__d("MTaggerTypeaheadPresenter.react",["cx","fbt","MTaggerResultsRow.react","React","prop-types"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=30;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.data.slice(0,j).map(function(a){var c=!1;this.props.excludedEntries&&(c=!!this.props.excludedEntries[a.id]);return i.jsx(b("MTaggerResultsRow.react"),{data:a,onClickItem:this.props.onClickItem,closeOnTag:this.props.closeOnTag,checked:c},a.id)},this);return i.jsxs("div",{className:"_53na",onTouchStart:this.props.onTouchStart,children:[i.jsx("div",{className:"_1zep",children:h._("G\u1ee2I \u00dd")}),a]})};return c}(i.Component);a.propTypes={query:(c=b("prop-types")).string,data:c.array,onClickItem:c.func,onTouchStart:c.func,closeOnTag:c.bool,excludedEntries:c.object};d={ViewRenderer:a};e.exports=d}),null);
__d("TokenCollection",[],(function(a,b,c,d,e,f){a=function(){"use strict";function a(){this.entries=[]}var b=a.prototype;b.addEntry=function(a){this.hasEntry(a)||this.entries.push(a);return this};b.removeEntry=function(a){if(this.hasEntry(a)){var b=0;while(b<this.entries.length){if(this.entries[b].id===a.id)break;b++}this.entries.splice(b,1)}return this};b.hasEntry=function(a){var b=a.id;return this.entries.some(function(a){return a.id===b})};b.shallowClone=function(){var b=new a();b.entries=this.entries.slice(0);return b};return a}();e.exports=a}),null);
__d("MTokenizer.react",["cx","fbt","Keys","MLegacyDataStore","MReactTypeahead","MTaggerTypeaheadPresenter.react","MTokenCollection.react","MTokenRenderer.react","MViewport","React","ReactComponentRenderer","TokenCollection","Vector","joinClasses","prop-types"],(function(a,b,c,d,e,f,g,h){var i=b("React"),j=function(c){"use strict";babelHelpers.inheritsLoose(a,c);function a(){var a,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(a=d=c.call.apply(c,[this].concat(f))||this,d.state={focus:!1},d.init=function(){d.initWithoutFocus(),d.refs.typeahead.focusInput()},d.initWithoutFocus=function(){d.refs.typeahead.configureDatasource(),d.forceUpdate(),d.refs.typeahead.reset()},d.cleanup=function(){d.refs.typeahead.cleanup()},d.updateTypeahead=function(){d.forceUpdate()},d.onRemoveFromCollection=function(a){d.$1.removeEntry(a),d.props.onRemove&&d.props.onRemove(a),d.forceUpdate()},d.$3=function(a){d.state.focus||(a.preventDefault(),d.refs.typeahead.focusInput(),d.setState({focus:!0}))},d.$7=function(){d.$2===null&&(d.$2=b("MViewport").getScrollTop())},d.$8=function(){d.$2!==null&&b("MViewport").scrollTo(0,d.$2),d.$2=null},d.$5=function(a){if(d.props.scrollToTypeahead){d.$7();var c=d.refs.typeahead.getInputNode();c=b("Vector").getPos(c).y;b("MViewport").scrollTo(0,c)}a.nativeEvent.keyCode===b("Keys").BACKSPACE&&d.$9()},d.$4=function(){d.props.scrollToTypeahead&&d.$8(),d.props.onInputBlur&&d.props.onInputBlur(),d.state.focus&&d.setState({focus:!1})},d.$6=function(a,b,c){c?d.onRemoveFromCollection(b):(d.$1.addEntry(b),d.props.onAdd&&d.props.onAdd(b)),d.props.hideSelected&&setTimeout(function(){d.refs.typeahead.focusInput()},0),a.stopPropagation(),d.forceUpdate()},d.getEntries=function(){return d.$1.entries},d.setEntries=function(a){d.$1.entries=a},d.$9=function(){var a=d.getEntries();a&&a.length&&!d.refs.typeahead.getInputValue()&&d.$1.removeEntry(a[a.length-1]);d.forceUpdate()},d.updateSuggestionsIds=function(a){d.init(),d.updateTypeaheadWithSuggestions(a)},d.updateTypeaheadWithSuggestions=function(a){d.refs.typeahead.updateSuggestionsIds(a)},d.focusAndUpdateSuggestionsIDs=function(a){d.refs.typeahead.updateSuggestionsIds(a),d.refs.typeahead.focusInput()},a)||babelHelpers.assertThisInitialized(d)}var d=a.prototype;d.UNSAFE_componentWillMount=function(){this.$1=new(b("TokenCollection"))(),this.$2=null};d.componentWillUnmount=function(){this.cleanup()};d.render=function(){var a=this.$1.entries||[],c={},d=a&&a.length>0;if(d)for(var e=0;e<a.length;++e)c[a[e].id]=!0;if(this.props.excludedEntries)for(var f in this.props.excludedEntries)c[f]=this.props.excludedEntries[f];a=!d||this.props.showPlaceholderWithEntries?this.props.placeholder:null;return i.jsxs("div",babelHelpers["extends"]({},this.props,{className:b("joinClasses")(this.props.className,"_5snt"),onClick:this.$3,role:"presentation",children:[i.jsx(b("MTokenCollection.react"),{ref:"collection",collection:this.$1,collectionKey:this.props.collectionKey,renderer:b("MTokenRenderer.react"),onRemove:this.onRemoveFromCollection}),i.jsx(b("MReactTypeahead"),{ref:"typeahead",className:"_5snu",typeaheadRootClassName:"_5snv",excludedEntries:c,placeholder:a,presenter:this.props.presenter,typeaheadConfig:this.props.typeaheadConfig,includeFamilyTags:this.props.includeFamilyTags,onBlur:this.$4,onKeyDown:this.$5,onClickItem:this.$6,suggestions:this.props.suggestions,hideSelected:this.props.hideSelected,maxSuggestionCount:this.props.maxSuggestionCount,closeOnTag:this.props.closeOnTag})]}))};return a}(i.Component);j.propTypes={placeholder:(a=b("prop-types")).string,placeholderWithEntries:a.bool,typeaheadConfig:a.object.isRequired,presenter:a.object.isRequired,excludedEntries:a.object,collectionKey:a.string,onInputBlur:a.func,includeFamilyTags:a.bool,hideSelected:a.bool,onAdd:a.func,onRemove:a.func,maxSuggestionCount:a.number,scrollToTypeahead:a.bool};j.init=function(a){var c=h._("B\u1eaft \u0111\u1ea7u nh\u1eadp t\u00ean..."),d=b("MLegacyDataStore").get(a.container);d.tokenizer=new(b("ReactComponentRenderer"))(j,a.container);d.tokenizer.setProps({placeholder:c,showPlaceholderWithEntries:!!a.showPlaceholderWithEntries,presenter:b("MTaggerTypeaheadPresenter.react"),typeaheadConfig:a.typeaheadConfig,suggestions:a.suggestions,hideSelected:a.hideselected,collectionKey:a.collectionKey,closeOnTag:a.closeOnTag});d.tokenizer.component.init()};e.exports=j}),null);
__d("MCompositionShareStore",["MCompositionConstants","MCompositionShareFields","MCompositionStore","emptyFunction"],(function(a,b,c,d,e,f){a=b("MCompositionConstants").ActionTypes;var g=new(b("MCompositionStore"))("SHARE",b("MCompositionShareFields")).setHandlerFor(a.COMPOSITION_FINALIZE,b("emptyFunction").thatReturnsNull).setHandlerFor(a.COMPOSITION_INITIALIZE,b("emptyFunction").thatReturnsArgument).setHandlerFor(a.SHARE_LINK_UPDATE,function(a){return babelHelpers["extends"]({},g.getAll(),a)}).setHandlerFor(a.SHARE_REMOVE_PREVIEW,function(a){a=a||{};var b="DISABLED_LINKS",c=g.getAll(),d={};d[b]=babelHelpers["extends"]({},c[b],a[b]);d.SHARE_URI=null;d.LINK_NO_CHANGE=!1;return babelHelpers["extends"]({},c,d)}).register();e.exports=g}),null);
__d("MPlacesCategorySelector",["DOM","MLegacyDataStore","MRequest","Stratcom","createDeprecatedProperties","eventsMixinDeprecated"],(function(a,b,c,d,e,f){a=function(){"use strict";function a(a){this._root=a,this._listeners=[b("Stratcom").listen("click",[a.getAttribute("data-sigil"),"cancel_places_category_selector"],this._cancel.bind(this)),b("Stratcom").listen("click",[a.getAttribute("data-sigil"),"category_option"],this._submit.bind(this))],this._currentlyMakingServerRequest=!1,this._viewcount=1}var c=a.prototype;c.hide=function(){b("DOM").hide(this._root)};c.show=function(){b("DOM").show(this._root)};c.cleanup=function(){while(this._listeners.length)this._listeners.pop().remove()};c._hideCurrentChild=function(){for(var a=0;a<this._viewcount-1;a++){if(!this._root.childNodes[a])return;b("DOM").hide(this._root.childNodes[a])}};c._showCurrentChild=function(){if(this._viewcount>=1){var a=this._getCurrentVisibleView();b("DOM").show(a)}};c._deleteLastChild=function(){var a=this._root.childElementCount;a>=1&&b("DOM").remove(this._root.childNodes[a-1])};c._deleteAllChildren=function(){var a=this._root.childElementCount;for(var c=a-1;c>=1;c--)b("DOM").remove(this._root.childNodes[c]);a>=1&&b("DOM").show(this._root.childNodes[0]);this._viewcount=1};c._getCurrentVisibleView=function(){return this._root.childNodes[this._viewcount-1]};c._submit=function(a){if(this._currentlyMakingServerRequest)return;var c=this._getCurrentVisibleView(),d=b("DOM").find(c,"*","loading"),e=b("DOM").find(c,"div","category-list-view");c=b("MLegacyDataStore").get(a.getNode("category_option"));if(c.haschildren){this._currentlyMakingServerRequest=!0;this._hideCurrentChild();b("DOM").show(d);b("DOM").hide(e);var f=new(b("MRequest"))("/places/addform/category.php");f.listen("done",function(){this._viewcount=this._viewcount+1,this._hideCurrentChild(),this._currentlyMakingServerRequest=!1,b("DOM").hide(d),b("DOM").show(e)}.bind(this));f.addData({parent_category_id:c.id,target_id:this._root.id});f.setMethod("GET");f.send()}else{this._deleteAllChildren();this._currentid=null;f={category_name:c.name,category_value:c.id};this.hide();this.invoke("submit",f)}a.kill()};c._cancel=function(a){if(this._currentlyMakingServerRequest)return;this._viewcount>1?(this._deleteLastChild(),this._viewcount--,this._showCurrentChild()):(this.hide(),this.invoke("cancel"))};return a}();b("eventsMixinDeprecated")(a,["submit","cancel"]);b("createDeprecatedProperties")(a,{disableFacewebHooks:!1});Object.assign(a.prototype,{_root:null,_currentlyMakingServerRequest:null,_viewcount:null});e.exports=a}),null);
__d("MPlacesAddView",["DOM","FBJSON","MPlacesCategorySelector","MRequest","Stratcom","ge"],(function(a,b,c,d,e,f){var g=null,h=null,i=null,j=null,k=null,l=null,m=null,n=null,o=null,p=null,q=null,r,s=null,t=null,u=null,v=null,w=null,x=null,y=!0,z={init:function(A){g=b("ge")(A);if(!g)return;m=b("DOM").scry(g,"div","places-category-selector-container")[0];if(m){j=new(b("MPlacesCategorySelector"))(m);i=(A=b("DOM")).find(g,"div","add-place-form");a=A.find(g,"div","new-place-name");n=A.find(a,"input","");c=A.find(g,"div","new-place-address");o=A.find(c,"input","");d=A.find(g,"div","new-place-phone");p=A.find(d,"input","");f=A.find(g,"div","new-place-website");q=A.find(f,"input","");r=A.find(g,"div","new-place-zip");s=A.find(r,"input","");v=A.scry(g,"input","is_current")[0];k=A.find(g,"span","category_input_display_text");l=A.scry(g,"input","category_input_value")[0];t=A.scry(g.parentNode.parentNode,"div","place-header")[0];u=A.find(g,"div","address-error-box")}else n=b("DOM").find(g,"input","new-place-name");h=b("DOM").find(g,"button","add_place_submit");this._listeners=[b("Stratcom").listen("click","add_place_submit",z._verifyAndSubmitAddPlace.bind(this)),b("Stratcom").listen("MStructuredComposer:cleanup",null,z._cleanup.bind(this)),b("Stratcom").listen("m:places:map:move",null,function(a){w=a.getData().lat,x=a.getData().lng}),b("Stratcom").listen("m:places:map:render",null,function(a){a=b("FBJSON").parse(a.getData(),e.id);w=a.latitude;x=a.longitude})];n.addEventListener("focus",function(){y&&(n.blur(),y=!1)});n.addEventListener("input",function(){z._toggleAddButton()});m&&(this._listeners.push(b("Stratcom").listen("click","category-selector",z._showCategorySelector.bind(this))),this._listeners.push(j.listen("cancel",z._cancelCategorySelector.bind(this))),this._listeners.push(j.listen("submit",z._submitCategorySelector.bind(this))))},_cleanup:function(){while(this._listeners.length)this._listeners.pop().remove();j&&j.cleanup()},_showCategorySelector:function(a){t&&b("DOM").hide(t),b("DOM").hide(i),b("DOM").show(m),a.kill()},_showAddButton:function(){return!l.value||!n.value?!1:!0},_toggleAddButton:function(){h.disabled&&z._showAddButton()?h.disabled=!1:!h.disabled&&!z._showAddButton()&&(h.disabled=!0)},_updateCategorySelector:function(a){if(k&&a){var c=a.category_name;a=a.category_value;b("DOM").setContent(k,c);a.length!==0&&(l.value=a,z._toggleAddButton())}},_submitCategorySelector:function(a){z._updateCategorySelector(a),b("DOM").hide(m),b("DOM").show(i),b("Stratcom").invoke("m:places:addplace:show"),y=!0,t&&b("DOM").show(t)},_cancelCategorySelector:function(){b("DOM").hide(m),b("DOM").show(i),b("Stratcom").invoke("m:places:addplace:show"),y=!0,t&&b("DOM").show(t)},_verifyAndSubmitAddPlace:function(a){var c={new_place:!0,name:n.value};m&&(c.phone=p.value,c.address=o.value,c.website=q.value,c.zip=s.value);c.is_current=!0;v&&(c.is_current=v.checked);w&&(c.latitude=w,c.longitude=x);if(l)c.topic_tokens=l;else{var d=b("DOM").scry(g,"span","token");c.topic_tokens=d}if(c.address){d=new(b("MRequest"))("/places/addform/verifyaddress.php");d.listen("done",function(b){b.actions.length===1?this._submitData(c,a):a.kill()}.bind(this));d.setData({address:c.address,latitude:c.latitude,longitude:c.longitude,target_id:u.id}).setMethod("GET").send()}else this._submitData(c,a)},_submitData:function(a,c){a.name.length!==0?(b("DOM").hide(g),b("Stratcom").invoke("m:places:addform:submit",null,a)):c.kill()}};e.exports=z}),null);
__d("MPlaces",["DOM","FWLoader","LoadingIndicator","MLegacyDataStore","MPageController","MRequest","Stratcom","URI","XPlacesUpdateLocationController","$"],(function(a,b,c,d,e,f){var g,h=b("FWLoader").FW,i={LINK_SIGIL:"gps-link",FORM_SIGIL:"gps-form",UPDATE_LOCATION_INTERVAL:6e4,desiredProperties:["latitude","longitude","accuracy","altitude","altitudeAccuracy","heading","speed"],locationOptions:{enableHighAccuracy:!0,timeout:6e4,maximumAge:3e5},watchID:null,pendingHref:"",pendingForm:null,_JSONLocation:"",_currentSearchMode:null,_lastUpdateTime:0,enableFWGeolocation:!0,locationSearchModes:{SEARCH_MODE:"m",MODE_COMPOSER:"cp",MODE_CHECKIN:"ci"},setCurrentJSONLocation:function(a){i._JSONLocation=a},getCurrentJSONLocation:function(){return i._JSONLocation},setLocationSearchMode:function(a){i._currentSearchMode=a},getLocationSearchMode:function(){return i._currentSearchMode},shouldUseFWGeolocation:function(){return window.FW_ENABLED&&h.isIOS()&&i.enableFWGeolocation},updateLocation:function(a){if(a){i.shouldUseFWGeolocation()&&(a={coords:a});var c={},d;for(var e=0;e<i.desiredProperties.length;e++)d=i.desiredProperties[e],a.coords[d]&&(c[d]=a.coords[d]);a.timestamp&&(c.timestamp=a.timestamp/1e3);i._JSONLocation=JSON.stringify(c);i.sendCurrentLocationToServer();i.pendingForm?i.submitForm(i.pendingForm):i.pendingHref&&i.gotoPage(i.pendingHref);i.pendingForm=null;i.pendingHref="";b("Stratcom").invoke("location-update",null,{position:a})}},handleError:function(a){i.clearWatch(),b("Stratcom").invoke("location-error",null,{error:a}),i.pendingForm?(i.submitForm(i.pendingForm),i.pendingForm=null):i.pendingHref&&(i.gotoPage(i.pendingHref),i.pendingHref="")},sendCurrentLocationToServer:function(){var a=Date.now();if(a-i._lastUpdateTime>i.UPDATE_LOCATION_INTERVAL){i._lastUpdateTime=a;a=b("XPlacesUpdateLocationController").getURIBuilder().setString("json_location",i._JSONLocation).setEnum("source","msite_places").getURI();new(b("MRequest"))(a).setMethod("POST").send()}},gotoPage:function(a){a=new(g||(g=b("URI")))(a);a.addQueryData("json_location",i._JSONLocation);b("MPageController").load(a)},submitForm:function(a){a.appendChild(b("DOM").create("input",{name:"json_location",type:"hidden",value:i._JSONLocation})),(!a.onsubmit||a.onsubmit())&&a.submit()},clearWatch:function(){if(!i.watchID)return;i.shouldUseFWGeolocation()?h.geolocation.clearWatch():navigator.geolocation.clearWatch(i.watchID);i.watchID=null},watchPosition:function(){if(i.shouldUseFWGeolocation())i.watchID=1,h.geolocation.watchPosition(i.updateLocation,i.handleError),h.geolocation.getCurrentPosition(i.updateLocation);else{var a=setTimeout(i.handleError,i.locationOptions.timeout);i.watchID=navigator.geolocation.watchPosition(function(b){clearTimeout(a),i.updateLocation(b)},function(b){clearTimeout(a),i.handleError(b)},i.locationOptions)}},monitorLocation:function(){i.clearWatch(),i.watchPosition(),b("MRequest").listen("postprocess",function(){!document.getElementById("place_update")&&i.watchID&&i.clearWatch()})},submitFormWithLocation:function(a){typeof a==="string"&&(a=b("$")(a));var c=i;b("LoadingIndicator").show();if(c.watchID&&c._JSONLocation){c.submitForm(a);return}c.pendingHref="";c.pendingForm=a;c.monitorLocation();return!1},gotoPageWithLocation:function(a){var c=i;b("LoadingIndicator").show();if(c.watchID&&c._JSONLocation){c.gotoPage(a);return}c.pendingForm=null;c.pendingHref=a;c.monitorLocation();return!1},onClick:function(a){a.kill();a=b("MLegacyDataStore").get(a.getNode(i.LINK_SIGIL));i.gotoPageWithLocation(a.href)},onSubmit:function(a){a.kill();a=b("DOM").find(a.getNode(i.FORM_SIGIL),"form");i.submitFormWithLocation(a)}};e.exports=i}),null);
__d("MPlacesTagger",["fbt","DOM","FWLoader","Keys","MLegacyDataStore","MParent","MPlaces","MRequest","MTaggingCounter","Stratcom","$","eventsMixinDeprecated"],(function(a,b,c,d,e,f,g){var h=b("FWLoader").FW;a=function(){"use strict";function a(a,c){var d;this._root=a;this._addPlaceView=(d=b("DOM")).find(a,"div","add-place");this._disableFacewebHooks=!1;this._errorMessage=d.find(a,"div","error-message");this._isOpen=!1;this._searchView=d.find(a,"div","places-search");this._throbber=d.find(a,"div","throbber");this._locationToggle=d.scry(a,"div","location-toggle")[0];this._newPlaceName=d.scry(a,"div","new-place-name")[0];this._overrideLocation=c;this._newPlaceName?this._newPlaceNameTextbox=b("DOM").find(this._newPlaceName,"input",""):this._newPlaceNameTextbox=b("DOM").find(this._addPlaceView,"input","new-place-name");window.FW_ENABLED||(this._placeHeader=b("DOM").find(a,"div","place-header"));this._listeners=[b("Stratcom").listen("click","cancel_at_tagger",this._cancel.bind(this)),b("Stratcom").listen("click","place_result",this._submit.bind(this)),b("Stratcom").listen("click","add_place_link",this._showAddPlace.bind(this)),b("Stratcom").listen("click","freeform_link",this._submitFreeformPlace.bind(this)),b("Stratcom").listen("click","get-location",this._getLocation.bind(this)),b("Stratcom").listen("click","abort-location",this._abortLocation.bind(this)),b("Stratcom").listen("m:places:addform:submit",null,this._submitAddPlace.bind(this)),b("Stratcom").listen("keydown","quicksearch-input",this._submitFreeFormText.bind(this)),b("Stratcom").listen("m:page:unload",null,this.cleanup.bind(this))]}var c=a.prototype;c.cleanup=function(){for(var a=0;a<this._listeners.length;a++)this._listeners[a].remove();this._listeners=[]};c.getDisableFacewebHooks=function(){return this._disableFacewebHooks};c.getRoot=function(){return this._root};c.hide=function(){window.FW_ENABLED&&h.setNavBarButton("","1;"),b("DOM").hide(this._addPlaceView),b("DOM").show(this._searchView),b("DOM").hide(this._root),this._isOpen=!1};c.setDisableFacewebHooks=function(a){this._disableFacewebHooks=a};c.show=function(){var a=this;this._isOpen=!0;this._locationToggle&&b("DOM").hide(this._throbber);window.FW_ENABLED?h.setNavBarButton(g._("H\u1ee7y"),this._cancel.bind(this)):this._locationToggle&&!this._hasLocation&&b("DOM").show(this._locationToggle);this._locationToggle?this._showed():this._overrideLocation?window.setTimeout(function(){b("Stratcom").invoke("m:quicksearch:places:search-with-location",null,a._overrideLocation),a._showed()},0):!this._hasLocation&&"geolocation"in navigator?(b("MTaggingCounter").logEvent("geo_popup_load"),this._locationListener=b("Stratcom").listen("location-update",null,this._handleLocationUpdate.bind(this)),this._errorListener=b("Stratcom").listen("location-error",null,this._handleLocationError.bind(this)),b("MPlaces").monitorLocation()):this._showed();b("DOM").show(this._root)};c._getLocation=function(){!this._hasLocation&&"geolocation"in navigator&&(this._locationListener=b("Stratcom").listen("location-update",null,this._handleLocationUpdate.bind(this)),this._errorListener=b("Stratcom").listen("location-error",null,this._handleLocationError.bind(this)),b("DOM").show(this._throbber),b("DOM").hide(this._locationToggle),b("MPlaces").monitorLocation())};c._abortLocation=function(){b("DOM").hide(this._throbber),b("DOM").hide(this._locationToggle),b("DOM").hide(this._errorMessage)};c._removeListeners=function(){this._locationListener.remove(),this._errorListener.remove()};c._handleLocationUpdate=function(a){this._removeListeners(),this._hasLocation=!0,b("Stratcom").invoke("m:quicksearch:places:search"),this._locationToggle||b("MTaggingCounter").logEvent("geo_popup_success"),this._showed()};c._handleLocationError=function(a){this._removeListeners(),this._hasLocation=!1,b("DOM").show(this._errorMessage),b("DOM").hide(this._throbber),this._locationToggle?b("DOM").show(this._locationToggle):b("MTaggingCounter").logEvent("geo_popup_fail"),this._showed()};c._showed=function(){if(!this._isOpen)return;window.FW_ENABLED&&!this.getDisableFacewebHooks()&&(h.setNavBarTitle(g._("Th\u00eam m\u1ed9t \u0111\u1ecba \u0111i\u1ec3m")),h.setNavBarButton(g._("H\u1ee7y"),this._cancel.bind(this),h.BUTTON_CANCEL,!1,"left"));this.invoke("showed");b("DOM").show(this._root)};c._cancel=function(){this.invoke("cancel").getPrevented()||(b("Stratcom").invoke("m:quicksearch:places:cancel"),this.hide())};c._submit=function(a){if(b("MParent").bySigil(a.getTarget(),"place-tagger")!==this._root)return;var c=b("MLegacyDataStore").get(a.getNode("place_result"));c.new_place=!1;this._placeResult=c;b("Stratcom").invoke("m:quicksearch:places:click",null,{results:a.getNode("id:places_search_results"),selected_result:a.getNode("place_result")});b("Stratcom").invoke("m:places-tagger:submit",null,c);this.invoke("submit",c);a.kill()};c._submitFreeFormText=function(a){var c=a.getRawEvent();if(c instanceof KeyboardEvent&&c.keyCode===b("Keys").RETURN){c={id:0,isEventResult:!1,isNonSpecific:!1,name:c.target.value,new_place:!1};b("Stratcom").invoke("m:places-tagger:submit",null,c);a.kill()}};c._showAddPlace=function(a){var c=b("MLegacyDataStore").get(a.getNode("add_place_link")).name;this._newPlaceNameTextbox.value=c;b("DOM").hide(this._searchView);b("DOM").show(this._addPlaceView);c=b("DOM").scry(this._addPlaceView,"*","map_view_container")[0];c&&new(b("MRequest"))("/places/showmap.php").addData({target_id:c.id}).setMethod("GET").send();b("Stratcom").invoke("m:places:addplace:show");a.kill()};c._submitAddPlace=function(a){var b=a.getData();this.hide();this.invoke("submit",b);a.kill()};c._submitFreeformPlace=function(a){var c=b("MLegacyDataStore").get(a.getNode("freeform_link"));this.hide();this.invoke("submit",c);a.kill()};a.fromID=function(c){c=b("$")(c);var d=b("MLegacyDataStore").get(c);d._placesTagger||(d._placesTagger=new a(c));return d._placesTagger};return a}();b("eventsMixinDeprecated")(a,["searching","showed","submit","cancel"]);Object.assign(a.prototype,{_hasLocation:!1,_locationListener:null,_errorListener:null,_root:null,_addPlaceView:null,_errorMessage:null,_newPlaceName:null,_newPlaceNameTextbox:null,_searchView:null,_throbber:null,_listeners:null,_placeResult:null});e.exports=a}),null);
__d("MStructuredComposerTaggingInputReact",["React"],(function(a,b,c,d,e,f){var g=b("React"),h="xy_tags",i="unconfirmed_xy_tags",j="failed_suggestions";a=function(a){"use strict";babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(a,b,c,d,e){e=e+"["+d+"]";return g.jsxs("div",{children:[g.jsx("input",{type:"hidden",name:e+"[x]",value:a.x}),g.jsx("input",{type:"hidden",name:e+"[y]",value:a.y}),g.jsx("input",{type:"hidden",name:e+"[fbid]",value:a.photoID}),g.jsx("input",{type:"hidden",name:e+"[name]",value:c}),g.jsx("input",{type:"hidden",name:e+"[subject]",value:b}),g.jsx("input",{type:"hidden",name:e+"[facebox]",value:a.fbid}),g.jsx("input",{type:"hidden",name:e+"[source]",value:"photos_touch_composer"})]},"tag"+a.fbid)},c.$2=function(){var a=c.props.tokenCollection,b=c.props.tagSuggestions,d=[],e=0,f=0;a.map(function(a){var g=b[a.id];g&&(d=d.concat(Object.keys(g).map(function(b){var d,j;g[b].receivedInBackground?(d=i,j=f++):(d=h,j=e++);b=c.$1(g[b],a.id,a.name,j,d);return b})))});return d},c.$3=function(a,b){b=j+"["+b+"]";return g.jsxs("div",{children:[g.jsx("input",{type:"hidden",name:b+"[fbid]",value:a.fbid}),g.jsx("input",{type:"hidden",name:b+"[tagee]",value:a.recognitions[0].user.fbid})]},"failed"+a.fbid)},b)||babelHelpers.assertThisInitialized(c)}var c=b.prototype;c.render=function(){return g.jsxs("div",{children:[this.$2(),this.props.failedSuggestions.map(this.$3)]})};return b}(g.Component);e.exports=a}),null);
__d("XPhotosGetRecognitionController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/photos/tagging/recognition/",{photos:{type:"FBIDVector"},recognition_project:{type:"String",defaultValue:"default"},include_unrecognized_faceboxes:{type:"Bool",defaultValue:!1},is_page:{type:"Bool",defaultValue:!1},target:{type:"Int"},include_face_crop_src:{type:"Bool",defaultValue:!1},include_recognized_user_profile_picture:{type:"Bool",defaultValue:!1},include_low_confidence_recognitions:{type:"Bool",defaultValue:!1},face_crop_width:{type:"Int",defaultValue:32},face_crop_height:{type:"Int",defaultValue:32}})}),null);
__d("MTagSuggestionsPoller",["MRequest","PhotosUploadWaterfallXMixin","XPhotosGetRecognitionController","mixin","performanceNow"],(function(a,b,c,d,e,f){var g,h=4,i=2e3,j=8e3;a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){var b;b=a.call(this)||this;b.$MTagSuggestionsPoller1=i;b.$MTagSuggestionsPoller2=0;b.$MTagSuggestionsPoller3={};b.$MTagSuggestionsPoller4=!1;b.$MTagSuggestionsPoller5=null;return b}var d=c.prototype;d.setRecognitionProject=function(a){this.$MTagSuggestionsPoller6=a;return this};d.setIncludeUnrecognized=function(a){this.$MTagSuggestionsPoller7=a;return this};d.setTargetIsPage=function(a){this.$MTagSuggestionsPoller8=a;return this};d.setTargetId=function(a){this.$MTagSuggestionsPoller9=a;return this};d.setHandler=function(a){this.$MTagSuggestionsPoller10=a;return this};d.setTimeoutHandler=function(a){this.$MTagSuggestionsPoller11=a;return this};d.isPolling=function(){return this.$MTagSuggestionsPoller4};d.setWaterfall=function(a,b,c){this.$MTagSuggestionsPoller12=a;this.$MTagSuggestionsPoller13=b;this.$MTagSuggestionsPoller14=c;return this};d.addPhotoIDAndLog=function(a,b){this.$MTagSuggestionsPoller3[a]=b,this.logStep("client_facerec_begin",{fbid:a}),this.invalidateTimeout(),this.startMasterTimerIfNeeded()};d.removePhotoID=function(a){delete this.$MTagSuggestionsPoller3[a]};d.hasPhotoID=function(a){return Object.prototype.hasOwnProperty.call(this.$MTagSuggestionsPoller3,a)};d.$MTagSuggestionsPoller15=function(a){return this.$MTagSuggestionsPoller3[a]};d.startMasterTimerIfNeeded=function(){this.$MTagSuggestionsPoller5||(this.$MTagSuggestionsPoller16=(g||(g=b("performanceNow")))(),this.$MTagSuggestionsPoller5=setTimeout(this.$MTagSuggestionsPoller17.bind(this),j))};d.invalidateTimeout=function(){this.$MTagSuggestionsPoller2=0,this.$MTagSuggestionsPoller5&&(clearTimeout(this.$MTagSuggestionsPoller5),this.$MTagSuggestionsPoller5=null)};d.start=function(){var a=this,c=this.$MTagSuggestionsPoller18();if(c.length>0){this.$MTagSuggestionsPoller4=!0;this.$MTagSuggestionsPoller2++;this.startMasterTimerIfNeeded();c=new(b("MRequest"))(this.$MTagSuggestionsPoller19(c));this.$MTagSuggestionsPoller20=c;c.listen("done",function(b){a.$MTagSuggestionsPoller21(b)});c.listen("error",function(b){a.$MTagSuggestionsPoller22(b)});c.setTimeout(j);c.send()}};d.$MTagSuggestionsPoller17=function(){this.$MTagSuggestionsPoller11&&this.$MTagSuggestionsPoller11(this.$MTagSuggestionsPoller23()),this.abort()};d.abort=function(){this.$MTagSuggestionsPoller4=!1;for(var a in this.$MTagSuggestionsPoller3)this.logStep("client_facerec_fail",{attempt_number:this.$MTagSuggestionsPoller2,elapsed_time:(g||(g=b("performanceNow")))()-this.$MTagSuggestionsPoller16,fbid:a});this.$MTagSuggestionsPoller3={};this.invalidateTimeout();this.$MTagSuggestionsPoller20&&(this.$MTagSuggestionsPoller20&&this.$MTagSuggestionsPoller20.abort(),this.$MTagSuggestionsPoller20=null)};d.$MTagSuggestionsPoller21=function(a){var c=this;if(a.payload){a=a.payload.filter(function(a){var d=a.fbid,e=c.hasPhotoID(d);e&&(a.attachmentID=c.$MTagSuggestionsPoller15(d),c.removePhotoID(d),c.logStep("client_facerec_success",{attempt_number:c.$MTagSuggestionsPoller2,elapsed_time:(g||(g=b("performanceNow")))()-c.$MTagSuggestionsPoller16,xy_tag_count:a.faceboxes.length,fbid:d}));return e});a.length>0&&this.$MTagSuggestionsPoller10(a)}this.restart()};d.$MTagSuggestionsPoller22=function(a){this.restart()};d.restart=function(){this.$MTagSuggestionsPoller2<h?setTimeout(this.start.bind(this),this.$MTagSuggestionsPoller1):this.$MTagSuggestionsPoller17()};d.$MTagSuggestionsPoller18=function(){var a=[];for(var b in this.$MTagSuggestionsPoller3)a.push(b);return a};d.$MTagSuggestionsPoller23=function(){var a=[];for(var b in this.$MTagSuggestionsPoller3)a.push(this.$MTagSuggestionsPoller3[b]);return a};d.$MTagSuggestionsPoller19=function(a){a=b("XPhotosGetRecognitionController").getURIBuilder().setFBIDVector("photos",a).setString("recognition_project",this.$MTagSuggestionsPoller6).setBool("include_unrecognized_faceboxes",this.$MTagSuggestionsPoller7).setBool("is_page",this.$MTagSuggestionsPoller8).setInt("target",this.$MTagSuggestionsPoller9).getURI();return a};d.getWaterfallID=function(){return this.$MTagSuggestionsPoller12};d.getWaterfallAppName=function(){return this.$MTagSuggestionsPoller13};d.getWaterfallSource=function(){return this.$MTagSuggestionsPoller14};return c}(b("mixin")(b("PhotosUploadWaterfallXMixin")));e.exports=a}),null);
__d("MTagSuggestionsController",["BanzaiODS","DOM","MMultiPhotoUploaderAttachmentState","MStructuredComposerTaggingInputReact","MTagSuggestionsPoller","React","ReactDOM"],(function(a,b,c,d,e,f){var g=b("React"),h="mtouch_composer_facerec_suggestions";a=function(){"use strict";function a(a,c,d,e,f,g){var h=this;this.$1=a;this.$1.setOnShow(this.onTokenizerInit.bind(this));this.$1.setOnClear(this.reset.bind(this));this.$2=c.getUploader();this.$3=f;this.$3.setOnEntriesChangedHandler(this.$4.bind(this));this.$5=0;this.$2.setProps({startPollingTagSuggestionsCallback:this.startPollingTagSuggestions.bind(this),onRemove:this.removeFaceboxesByPhotoID.bind(this)});this.$6=new(b("MTagSuggestionsPoller"))().setRecognitionProject("composer_facerec").setIncludeUnrecognized(!0).setTargetIsPage(d==="page").setTargetId(e).setHandler(function(a){h.handleFaceboxResponse(a)}).setTimeoutHandler(function(a){h.onPollerTimeout(a)}).setWaterfall(this.$2.component.getWaterfallID(),this.$2.component.getWaterfallAppName(),this.$2.component.getWaterfallSource());this.$7={};this.$8={};this.$9={};this.$10=!1;this.$11={};this.$12=!!g;this.$13=!1}var c=a.prototype;c.onTokenizerInit=function(){Object.keys(this.$9).length>0&&this.updateTypeaheadWithFaceboxSuggestions(),this.$10||(this.$10=!0,this.$1.getTokenizer().setProps({onAdd:this.$14.bind(this),onRemove:this.$15.bind(this)}))};c.$14=function(a){this.$11[a.id]=!0};c.$15=function(a){delete this.$11[a.id],a.autoTag&&b("BanzaiODS").bumpEntityKey(2966,h,"remove_auto_tag")};c.$16=function(a){var b={};a.forEach(function(a){b[a.id]=!0});for(var c in this.$7)for(var d in this.$7[c]){a=this.$7[c][d];if(!a.tagUserID){if(!a.ignoreRecognition){var e=a.recognitions[0].user.fbid,f=a.recognitions[0].user.name;b[e]&&(a.tagUserID=e,a.tagName=f)}}else b[a.tagUserID]||(this.$8[a.tagUserID]&&a.ignoreRecognition&&delete this.$8[a.tagUserID][d],delete a.tagUserID,delete a.tagName)}};c.$4=function(a){this.$16(a),this.$17(a)};c.$17=function(a){var b=this,c={};a.forEach(function(a){a=b.$8[a.id];for(var d in a){var e=a[d].attachmentID;c[e]||(c[e]=0);c[e]++}});this.$2.component.setAttachmentTagCounts(c)};c.startPollingTagSuggestions=function(a,b){this.$6.addPhotoIDAndLog(a,b),this.$6.isPolling()||this.$6.start()};c.$18=function(a){return{name:a.tagName,display:a.tagName,id:a.tagUserID,autoTag:!0,receivedInBackground:a.receivedInBackground}};c.handleFaceboxResponse=function(a){var c=this;a.forEach(function(a){var d=a.fbid,e=a.faceboxes;e.forEach(function(b){b.photoID=d;b.attachmentID=a.attachmentID;c.$7[d]||(c.$7[d]={});c.$7[d][b.fbid]=b;if(b.recognitions.length>0){b.ignoreRecognition=!1;var e=b.recognitions[0].user.fbid;c.$8[e]||(c.$8[e]={});c.$13&&(b.receivedInBackground=!0);c.$8[e][b.fbid]=b;c.$9[e]||(c.$9[e]=0);c.$9[e]++;if(!c.$10&&c.$12){b.tagName=b.recognitions[0].user.name;b.tagUserID=e;e=c.$18(b);c.$3.addAutoToken(e)}}else b.ignoreRecognition=!0});c.$2.component.setAttachmentProps(a.attachmentID,{state:b("MMultiPhotoUploaderAttachmentState").UPLOADED});c.$2.component.onFaceBoxDataReceived(a.attachmentID)});a=this.$3.getEntries();this.$16(a);this.$17(a)};c.removeFaceboxesByPhotoID=function(a){if(this.$6.hasPhotoID(a))this.$6.removePhotoID(a);else if(this.$7[a]){var b=this.$7[a];for(var c in b){var d=b[c];d.recognitions.length>0&&this.$19(d)}this.$7[a]=null}};c.$19=function(a){var b=a.tagUserID||a.recognitions[0].user.fbid;a.recognitions.length>0&&(this.$9[b]--,this.$9[b]===0&&delete this.$9[b]);if(this.$8[b]){delete this.$8[b][a.fbid];if(Object.keys(this.$8[b]).length<=0&&!this.$11[b]&&this.$12){b=this.$18(a);this.$3.onRemove(b)}else this.$17(this.$3.getEntries())}};c.updateTypeaheadWithFaceboxSuggestions=function(){var a=Object.keys(this.$9);a=a.map(function(a){return+a});var b=this.$1.getTokenizer(),c=b.component.props.suggestions.map(function(a){return a.uid});c.forEach(function(b){a.indexOf(b)<0&&a.push(b)});b.updateTypeaheadWithSuggestions(a)};c.$20=function(){var a=this.$1.getTokenizer();a.component.updateTypeaheadWithSuggestions([])};c.$21=function(){var a=[];for(var b in this.$7)for(var c in this.$7[b]){var d=this.$7[b][c];d.recognitions.length>0&&d.ignoreRecognition&&d.tagUserID!==d.recognitions[0].user.fbid&&a.push(d)}return a};c.generateHiddenInput=function(a){var c=b("DOM").create("div",{});b("DOM").appendContent(a,c);b("ReactDOM").render(g.jsx(b("MStructuredComposerTaggingInputReact"),{tokenCollection:this.$3.getEntries(),tagSuggestions:this.$8,failedSuggestions:this.$21()}),c)};c.onPollerTimeout=function(a){var c=this;a.forEach(function(a){c.$2.component.setAttachmentProps(a,{state:b("MMultiPhotoUploaderAttachmentState").UPLOADED})})};c.addXYTag=function(b){var c=this.$7[b.photoID][b.fbid];c.recognitions.length>0&&this.$19(c);a.addFaceboxData(c,b.tagName,b.tagUserID);this.$8[c.tagUserID]||(this.$8[c.tagUserID]={});this.$8[c.tagUserID][c.fbid]=c;b=this.$18(c);this.$3.addManualXYTag(b);this.$5+=1};c.deleteXYTag=function(a){var b=this.$7[a.photoID][a.fbid];b.ignoreRecognition=!0;delete b.tagUserID;delete b.tagName;this.$19(a);this.$5-=1};c.getNumXYTags=function(){return this.$5};c.getFaceboxesCopyForPhoto=function(a){var b={};for(var c in this.$7[a])b[c]=babelHelpers["extends"]({},this.$7[a][c]);return b};c.setBackgroundPolling=function(a){this.$13=a};c.reset=function(){this.$6.abort(),this.$9={},this.$7={},this.$8={},this.$20(),this.$10=!1,this.$11={},this.$5=0,this.$13=!1};a.addFaceboxData=function(a,b,c){a.tagName=b,a.tagUserID=c,a.ignoreRecognition=!0};a.deleteFaceboxData=function(a){delete a.tagUserID,delete a.tagName,a.ignoreRecognition=!0};return a}();e.exports=a}),null);
__d("MQuickSearch",["DOM","HTML","MRequest","MRequestTypes","MViewport","Stratcom","Vector","$","destroyOnUnload","eventsMixinDeprecated","setIntervalAcrossTransitions"],(function(a,b,c,d,e,f){var g=[];a=function(){"use strict";function a(a,c){this._uri=a.uri;this._args=a.args||{};var d=b("$")(a.nodeID);this._input=b("DOM").find(d,"input","quicksearch-input");this._button=b("DOM").scry(d,"*","quicksearch-button")[0];this._container=b("$")(a.containerID);this._resultsBoxID=a.resultsBoxID;this._resultsBox=b("$")(this._resultsBoxID);this._shouldScroll=a.shouldScroll;a.throbber&&(this._throbber=new(b("HTML"))(a.throbber));this._request=null;this._searchLogger=c||null;this._listeners=[b("DOM").listen(this._input,"focus",null,this._focus.bind(this)),b("DOM").listen(this._input,"blur",null,this._cleanup.bind(this)),b("DOM").listen(this._input,"keydown",null,this._handleKeyDown.bind(this)),b("DOM").listen(this._input,"keyup",null,this._handleKeyUp.bind(this))];this._button&&this._listeners.push(b("DOM").listen(this._button,"click",null,this._click.bind(this)));this._args.bootstrap&&this.search(this._input.value);g.push(this);b("destroyOnUnload")(function(){b("Stratcom").removeCurrentListener(),g.forEach(function(a){return a._destroy()}),g=[]})}var c=a.prototype;c._handleKeyDown=function(a){this._scrollToContainer(),this._previousText=this._input.value};c._handleKeyUp=function(a){if(a.getSpecialKey()==="delete"&&(this._args.bootstrap||this._args.showInitialResultsOnClear)){a=this._input.value;a.trim()===""&&a!==this._previousText&&this.reset()}};c._scrollToContainer=function(){if(this._shouldScroll){var a=b("Vector").getPos(this._container);b("MViewport").scrollTo(a.x,a.y)}};c._update=function(){var a=this._input.value;if(this._previousText==a)return;this._previousText=a;if(/^\s*$/.test(a)&&!this._args.bootstrap){this._resetContent();this._abortRequest();return}this._saveInitialNodes();this.search(a)};c.search=function(a){if(this.invoke("search",a).getPrevented())return;this._throbber&&b("DOM").setContent(this._resultsBox,this._throbber);this.addQueryParameters({q:a||""});this._abortRequest();this._searchLogger&&this._searchLogger.onSearch(this._args);this._request=new(b("MRequest"))(this._uri);this._request.setType(b("MRequestTypes").DEPENDENT);this._request.listen("done",function(a){this._resultsBox=b("$")(this._resultsBoxID),this._searchLogger&&this._searchLogger.onResults(this._request,this._resultsBox),this._needsDefaultNodes&&(this._saveInitialNodes(),this._needsDefaultNodes=!1),this._request=null}.bind(this));this._request.setMethod("GET");this._request.setData(this._args).send()};c._abortRequest=function(){this._request&&this._request.abort()&&(this._request=null)};c._resetContent=function(){this._resultsBox=b("$")(this._resultsBoxID),b("DOM").setContent(this._resultsBox,this._initialNodes)};c.resetToThrobber=function(){this._resultsBox=b("$")(this._resultsBoxID),this._throbber&&this._resultsBox&&b("DOM").setContent(this._resultsBox,this._throbber)};c.addQueryParameters=function(a){Object.assign(this._args,a)};c.maybeAddQueryParameters=function(a){for(var b in a)b in this._args||(this._args[b]=a[b])};c.clear=function(){this._input.value="",this._initialNodes=null};c._focus=function(a){this._focused=!0,this._button&&(this._button.setAttribute("type","button"),this._button.disabled=!1),this._scrollToContainer(),this._previousText=this._input.value,clearInterval(this._interval),this._interval=b("setIntervalAcrossTransitions")(this._update.bind(this),300)};c._click=function(a){a.prevent(),this.reset()};c._cleanup=function(){this._searchLogger&&this._searchLogger.onCleanup(),this._focused=!1,!this._input.value&&this._button&&(this._button.setAttribute("type","submit"),this._button.disabled=!0),clearInterval(this._interval)};c.reset=function(){this._abortRequest(),this._cleanup(),this._saveInitialNodes(),this._resetContent(),this._input.value="",this._input.blur(),this._button&&(this._button.setAttribute("type","submit"),this._button.disabled=!0),this._args.showInitialResultsOnClear&&this.search(""),this._scrollToContainer()};c._saveInitialNodes=function(){this._initialNodes||(this._initialNodes=Array.from(this._resultsBox.childNodes))};c._destroy=function(){this._listeners.forEach(function(a){return a&&a.remove()}),this._listeners.length=0};c.setNeedsDefaultNodes=function(){this._needsDefaultNodes=!0};a.getInstances=function(){return g};return a}();b("eventsMixinDeprecated")(a,["search"]);Object.assign(a.prototype,{_uri:null,_args:null,_input:null,_button:null,_container:null,_resultsBox:null,_shouldScroll:!0,_throbber:null,_focused:!1,_initialNodes:null,_previousText:null,_interval:null,_needsDefaultNodes:!1,_searchLogger:null});e.exports=a}),null);
__d("MQuickSearchOG",["MQuickSearch","Stratcom"],(function(a,b,c,d,e,f){a=function(a){"use strict";var c=new(b("MQuickSearch"))(a);b("Stratcom").listen("m:quicksearch:actionSelected",null,function(a){var b={};b.atID=a.getData().at_id;b.placeID=a.getData().place_id;b.sid=a.getData().sid;c.setNeedsDefaultNodes();c.addQueryParameters(b);c.search()}.bind(this));b("Stratcom").listen("m:quicksearch:clear",null,function(){c.clear(),c.resetToThrobber()}.bind(this))};e.exports=a}),null);
__d("PerfHelperUtils",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React");c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){return this.props.children};return b}(a.PureComponent);d={SlowBootloadBorder:c};e.exports=d}),null);
__d("MPlacesCurrentLocation",["MPlaces"],(function(a,b,c,d,e,f){a=function(a){b("MPlaces").setCurrentJSONLocation(a.location),b("MPlaces").setLocationSearchMode(a.mode),a.mode==b("MPlaces").locationSearchModes.MODE_CHECKIN&&b("MPlaces").monitorLocation()};f.main=a}),null);
__d("MPlacesInit",["MPlaces","Stratcom"],(function(a,b,c,d,e,f){typeof window.usingGears!=="undefined"&&(b("MPlaces").locationOptions.enableHighAccuracy=!1),b("Stratcom").listen("click",b("MPlaces").LINK_SIGIL,b("MPlaces").onClick),b("Stratcom").listen("submit",b("MPlaces").FORM_SIGIL,b("MPlaces").onSubmit)}),null);
__d("MQuickSearchLogger",[],(function(a,b,c,d,e,f){a=function(){"use strict";function a(){this.$1=!1,this.$2=!1,this.$3=null}var b=a.prototype;b.$4=function(){this.$1=!0,this.$2=!1,this.$5=Math.random()};b.$6=function(){this.$1=!1};b.logSessionStart=function(a){};b.logResults=function(a,b){};b.logClick=function(a){};b.onSearch=function(a){this.$1||(this.$4(),this.logSessionStart(a)),this.$3=a};b.onResults=function(a,b){this.logResults(a,b)};b.onCleanup=function(){this.$6()};b.onClick=function(a){this.$2||(this.logClick(a),this.$2=!0,this.$6())};b.getSID=function(){return this.$5};b.getLastRequest=function(){return this.$3};return a}();e.exports=a}),null);
__d("MQuickSearchLoggerPlaces",["MarauderLogger","MLegacyDataStore","MQuickSearchLogger"],(function(a,b,c,d,e,f){a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.logSessionStart=function(a){b("MarauderLogger").log("m_checkin_search_session_start",void 0,{sid:this.getSID()})};d.logResults=function(a,c){b("MarauderLogger").log("m_checkin_search_results",void 0,{sid:this.getSID(),search_experiment:b("MLegacyDataStore").get(c).searchExperiment})};d.logClick=function(a){var c=!1,d=-1;if(a){var e=b("MLegacyDataStore").get(a.selected_result);e!==null&&(c=e.isEventResult);var f=[];a.results!==null&&a.results.children!==null&&(f=a.results.children);for(var a=0;a<f.length;a++){var g=b("MLegacyDataStore").get(f[a]);if(e.id===g.id){d=a;break}}}g=-1;if(this.getLastRequest()!==null){a=this.getLastRequest();Object.prototype.hasOwnProperty.call(a,"q")&&Object.prototype.hasOwnProperty.call(a.q,"length")&&(g=this.getLastRequest().q.length)}b("MarauderLogger").log("m_checkin_search_click",void 0,{sid:this.getSID(),query_length:g,position:d,is_event:c})};return c}(b("MQuickSearchLogger"));e.exports=a}),null);
__d("MQuickSearchPlaces",["MPlaces","MQuickSearch","MQuickSearchLoggerPlaces","Stratcom"],(function(a,b,c,d,e,f){a=function(a){"use strict";var c,d,e=new(b("MQuickSearchLoggerPlaces"))(),f=new(b("MQuickSearch"))(a,e),g=null,h=f.listen("search",function(a){var e=g||b("MPlaces").getCurrentJSONLocation();if(e==c&&a==d){b("Stratcom").context().prevent();return}c=b("MPlaces").getCurrentJSONLocation();d=a;a={json_location:c};a[b("MPlaces").locationSearchModes.SEARCH_MODE]=b("MPlaces").getLocationSearchMode();f.maybeAddQueryParameters(a);b("Stratcom").invoke("m:quicksearch:location:change",null,e)}),i=(a=b("Stratcom")).listen("m:quicksearch:places:search-with-location",null,function(a){g=a,f.search()}),j=a.listen("m:quicksearch:places:search",null,function(){f.search()}),k=a.listen("m:quicksearch:places:cancel",null,function(){return f.reset()}),l=a.listen("m:quicksearch:places:click",null,function(a){e.onClick(a.getData())});a.listen("m:page:loading",null,function(){b("Stratcom").removeCurrentListener(),h.remove(),j.remove(),i.remove(),k.remove(),l.remove(),h=j=c=d=f=null})};e.exports=a}),null);
__d("DeferredComponent.react",["React","createCancelableFunction","prop-types"],(function(a,b,c,d,e,f){var g=b("React");a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(c,d){var e;e=a.call(this,c,d)||this;e.$1=function(a){e.setState({ComponentClass:a},function(){e.props.onComponentLoad&&e.props.onComponentLoad(a)})};var f=null;function g(a){f=a}e.props.deferredComponent(g);e.state={ComponentClass:f,cancelableModulesLoaded:b("createCancelableFunction")(e.$1)};return e}var d=c.prototype;d.componentDidMount=function(){this.props.deferredComponent(this.state.cancelableModulesLoaded)};d.componentWillUnmount=function(){this.state.cancelableModulesLoaded.cancel()};d.render=function(){var a=this.state.ComponentClass;if(!a||this.props.deferredForcePlaceholder)return this.props.deferredPlaceholder;var b=this.props;b.deferredPlaceholder;b.deferredComponent;b.onComponentLoad;b.deferredForcePlaceholder;b=babelHelpers.objectWithoutPropertiesLoose(b,["deferredPlaceholder","deferredComponent","onComponentLoad","deferredForcePlaceholder"]);return g.jsx(a,babelHelpers["extends"]({},b))};return c}(g.Component);a.propTypes={deferredPlaceholder:(c=b("prop-types")).element.isRequired,deferredComponent:c.func.isRequired,onComponentLoad:c.func,deferredForcePlaceholder:c.bool};e.exports=a}),null);
__d("PerfUtils",["React","performanceNow","PerfHelperUtils"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i=h.Component,j=b("PerfHelperUtils").SlowBootloadBorder;function a(a,b,c){var d=function(e){babelHelpers.inheritsLoose(d,e);function d(){return e.apply(this,arguments)||this}var f=d.prototype;f.componentDidMount=function(){b()};f.render=function(){if(c)return h.jsx(a,babelHelpers["extends"]({},this.props,{ref:c}));else return h.jsx(a,babelHelpers["extends"]({},this.props))};return d}(i);return d}function c(a,c,d){var e=1e4;d=(g||(g=b("performanceNow")))()-d;if(d<e)return a;var f=e/1e3,k=Math.round(d)/1e3;e=function(b){babelHelpers.inheritsLoose(d,b);function d(){return b.apply(this,arguments)||this}var e=d.prototype;e.componentDidMount=function(){};e.render=function(){return h.jsx(j,{moduleId:c,timeLimitSecs:f,timeSpentSecs:k,children:h.jsx(a,babelHelpers["extends"]({},this.props))})};return d}(i);return e}d={appendListener:a,markRedInDev:c};e.exports=d}),null);
__d("BootloadedComponent.react",["DeferredComponent.react","JSResource","PerfUtils","React","TimeSlice","performanceNow"],(function(a,b,c,d,e,f){var g,h=b("React");a=h.Component;var i=b("PerfUtils").appendListener;c=b("PerfUtils").markRedInDev;d=function(a){"use strict";babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.create=function(a){var b=function(c){babelHelpers.inheritsLoose(b,c);function b(){return c.apply(this,arguments)||this}var d=b.prototype;d.render=function(){var b=this.props;b.bootloadLoader;b=babelHelpers.objectWithoutPropertiesLoose(b,["bootloadLoader"]);return h.jsx(j,babelHelpers["extends"]({bootloadLoader:a,bootloadPlaceholder:h.jsx("div",{})},b))};return b}(h.Component);b.displayName="BootloadedComponent("+a.getModuleId()+")";return b};return b}(a);f=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.$BootloadedComponent1=function(a){var c=d.props.isContinuation,e;c=c?b("TimeSlice").PropagationType.CONTINUATION:b("TimeSlice").PropagationType.EXECUTION;b("TimeSlice").guard(b("JSResource").loadAll,"BootloadedComponent load all JSResource",{propagationType:c})([d.props.bootloadLoader],function(b){b=d.props.onComponentDidMount?i(b,d.props.onComponentDidMount):b,a(b)})};c.onBootloaderWillMount&&c.onBootloaderWillMount();return d}var d=c.prototype;d.render=function(){var a=this.props;a.bootloadLoader;a.isContinuation;var c=a.bootloadPlaceholder,d=a.bootloadForcePlaceholder;a=babelHelpers.objectWithoutPropertiesLoose(a,["bootloadLoader","isContinuation","bootloadPlaceholder","bootloadForcePlaceholder"]);return h.jsx(b("DeferredComponent.react"),babelHelpers["extends"]({deferredPlaceholder:c,deferredComponent:this.$BootloadedComponent1,deferredForcePlaceholder:d},a))};return c}(d);f.defaultProps={isContinuation:!0};var j=f;e.exports=j}),null);